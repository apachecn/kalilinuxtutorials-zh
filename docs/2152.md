# pFuzz:é€šè¿‡åŒæ—¶ä½¿ç”¨ä¸åŒçš„æ–¹æ³•å¸®åŠ©æˆ‘ä»¬ç»•è¿‡ Web åº”ç”¨ç¨‹åºé˜²ç«å¢™

> [https://kallinuxxtauthorities . com/pfzz/](https://kalilinuxtutorials.com/pfuzz/)

[![](img/0eab3a1c07650702bd8db4ae345b8409.png)](https://blogger.googleusercontent.com/img/a/AVvXsEioGIbSb2jy_qqZ7fo7STCsbZBQe05VTp9584_pXMkNYwGhyWzagxhHJe8xYkMt90-T0RBwuLiZsnpuVE29py8tPQLjXuKFSW25V76GxEjNcvuXD3_okRjzHMKUDaQSiW2lfbz27tl7qUIVrwhnXs_mVzVJZ7Lxyk2opqEtdmbMKUBbnlsrXiZHt4h3=s728)

pFuzz æ˜¯ä¸€æ¬¾å…ˆè¿›çš„ red teaming fuzzing å·¥å…·ï¼Œæ˜¯æˆ‘ä»¬ä¸ºè‡ªå·±çš„ç ”ç©¶å¼€å‘çš„ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬é€šè¿‡åŒæ—¶ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥ç»•è¿‡ web åº”ç”¨é˜²ç«å¢™ã€‚

è¿™æ˜¯æˆ‘ä»¬ä¸ºæ— ç—…æ¯’ web åº”ç”¨ç¨‹åºç ”ç©¶å¼€å‘çš„ä¸€ç§é«˜çº§æ¨¡ç³Šå¤„ç†å·¥å…·ã€‚æ—¨åœ¨åŠ é€Ÿåœ¨ä¸åŒå®‰å…¨åº”ç”¨ç¨‹åºä¸Šå°è¯•å„ç§æ”»å‡»æ–¹æ³•ã€‚

**æè¿°ã€enã€‘**

pFuzz æ˜¯ç”¨ python è¯­è¨€å¼€å‘çš„å·¥å…·ï¼Œåœ¨ web åº”ç”¨ç¨‹åºç ”ç©¶ä¸­å…·æœ‰é«˜çº§æ¨¡ç³ŠåŠŸèƒ½ã€‚ç”±äºè¯¥åº”ç”¨ç¨‹åºå…·æœ‰æ¨¡å—åŒ–ç»“æ„ï¼Œå®ƒèƒ½å¤Ÿå¿«é€Ÿå°†æ–°çš„å·²å‘ç°/å¾…å‘ç° WAF æ—è·¯æ–¹æ³•æ·»åŠ åˆ° pFuzz ä¸­ï¼Œå¹¶åœ¨æ‰€æœ‰å…¶ä»– WAF ä¸Šè¿›è¡Œæµ‹è¯•ã€‚é™¤äº†æ¨¡å—åŒ–ç»“æ„ä¹‹å¤–ï¼Œè¿˜ä½¿ç”¨äº†å¤šçº¿ç¨‹ã€å¤šå¤„ç†å’Œé˜Ÿåˆ—ç»“æ„æ¥æé«˜å·¥å…·çš„çµæ´»æ€§ï¼Œå¹¶ä¸ºæœªæ¥çš„å¼€å‘åˆ›å»ºäº†åŸºç¡€æ¶æ„ã€‚

è¯¥å·¥å…·ç»è¿‡ç¼–ç¨‹ï¼Œå¯ä»¥è§£æç»™å®šçš„è¯·æ±‚ï¼Œå¹¶è½»æ¾åœ°åœ¨å¯¹è±¡ä¸Šè¿›è¡Œæ›´æ”¹ã€‚ç”±äºè¿™ç§ç»“æ„ï¼Œé‚£äº›å°†å¼€å‘åº”ç”¨ç¨‹åºçš„äººå°†èƒ½å¤Ÿè½»æ¾åœ°åšå‡ºè´¡çŒ®ï¼Œå¹¶å¼€å‘ç¬¦åˆè‡ªå·±éœ€æ±‚çš„å·¥å…·ï¼Œè€Œä¸å¿…æ”¹å˜åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒç»“æ„ï¼Œä¹Ÿä¸å¿…å­¦ä¹ ã€‚

* * *

**æ³¨æ„**:å¦‚æœä½ æƒ³ä¸ºå¼€å‘åšè´¡çŒ®ï¼Œä½ ä¸ä»…å¯ä»¥å¼€å‘ pFuzzï¼Œè¿˜å¯ä»¥æ·»åŠ æ–°çš„æ¨¡å—ã€‚è¯·éšæ„æ‰“å¼€æ–°çš„ PRğŸ™‚

* * *

è¯´æ˜ã€trã€‘

pfuzz æ˜¯ python å¼€å‘çš„å·¥å…·ï¼Œå¯åœ¨ web åº”ç”¨ç¨‹åºç ”ç©¶ä¸­æä¾›é«˜çº§æ¨¡ç³ŠåŠŸèƒ½ã€‚ç”±äºåº”ç”¨ç¨‹åºå…·æœ‰æ¨¡å—åŒ–ç»“æ„ï¼Œå› æ­¤æ–°çš„/å°†è¦å‘ç°çš„ WAF ç»•è¿‡æ–¹æ³•å¯ä»¥å¿«é€Ÿæ·»åŠ åˆ° pfz ä¸­ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ‰€æœ‰å…¶ä»– WAF ä¸Šè¿›è¡Œæµ‹è¯•ã€‚é™¤äº†æ¨¡ç»„åŒ–çš„æ¶æ„ä¹‹å¤–ï¼Œè¿˜å»ºç«‹äº†å­æ¶æ„ï¼Œå¯ä½¿ç”¨å¤šæ‰§è¡Œç»ªã€å¤šé‡å¤„ç†ã€queue ç­‰æ¶æ„ï¼Œè®©æ‚¨çš„å·¥å…·æ›´å…·å¼¹æ€§ï¼Œå¹¶å¯åœ¨æœªæ¥è¿›è¡Œæ”¹è‰¯

è¯¥åº”ç”¨ç¨‹åºæ˜¯ä¸ºé€šè¿‡è§£æç»™å®šçš„è¯·æ±‚è€Œè®¾è®¡çš„ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åœ¨å¯¹è±¡ä¸Šè¿›è¡Œä¿®æ”¹ã€‚é€šè¿‡è¿™ç§ç»“æ„ï¼Œå¼€å‘åº”ç”¨ç¨‹åºçš„äººå‘˜å¯ä»¥è½»æ¾åœ°å¸®åŠ©å¼€å‘åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€æ›´æ”¹åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒç»“æ„ï¼Œä¹Ÿæ— éœ€å­¦ä¹ å¦‚ä½•æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå¼€å‘

* * *

**æ³¨**:å¦‚æœæ‚¨æƒ³ä¸ºå¼€å‘ä½œå‡ºè´¡çŒ®ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ æ–°æ¨¡å—æ¥å®ç°ï¼Œè€Œä¸ä»…ä»…æ˜¯å†…æ ¸çš„å¼€å‘ã€‚æˆ‘ä»¬æ­£åœ¨ç­‰å¾…æ‚¨çš„æ–°å…¬å…³

**æµé‡**

![](img/0f3179c46db6a3efb2ee09a15d40f762.png)

**å®‰è£…å’Œä½¿ç”¨**

**sudo pip 3 install virtualenv
python 3-m venv myvenv
source myvenv/bin/activate
pip 3 install-r requirements . txt
python 3 pfuzz . pyâ€“help**

**ä¾èµ–å…³ç³»**

**cffi = 1 . 14 . 3
å¯†ç å­¦= 3 . 1 . 1
num py = 1 . 19 . 2
ç†ŠçŒ«= 1 . 1 . 3
pycparser = 2.20
pyopenssl = 19 . 1 . 0
python-date util = 2 . 8 . 1**

**ç”¨é€”**

**å¸®åŠ©**

**python 3 pfuzz . pyâ€“å¸®åŠ©**

**æ“çºµè¡¨å¤´æ¨¡å—**

**python 3 pfuzz . py-r request . txt-m**

**Charfuzzing æ¨¡å—**

**python 3 pfuzz . py-r request . txt-cf**

**æ¨¡ç³Šæ¨¡å—**

**python 3 pfuzz . py-r request . txt-f**

**æ·»åŠ ä»£ç†**

**python 3 pfuzz . py-r request . txt-fâ€“proxy 127 . 0 . 0 . 1:8080**

**åœ¨è¯·æ±‚ä¹‹é—´æ·»åŠ å»¶è¿Ÿ**

**python 3 pfuzz . py-r request . txt-f-d 3**

**å¯ç”¨ TLS/SSL è¿æ¥**

**python 3 pfuzz . py-r request . txt-f-s**

**å¯ç”¨æ—¥å¿—è®°å½•**

**python 3 pfuzz . py-r request . txt-f-l**

**å¯ç”¨æœ‰æ•ˆè½½è·ç¼–ç /å…¨ç¼–ç åŠŸèƒ½**

**python 3 pfuzz . py-r request . txt-f-e**

**python 3 pfuzz . py-r request . txt-f-Fe**

**è®¾ç½®å¤šçº¿ç¨‹**

**python 3 pfuzz . py-r request . txt-f-t 5**

**è¾“å‡ºåˆ°ç«¯å­**

**python 3 pfuzz . py-r request . txt-f-o ç»ˆç«¯**

**python 3 pfuzz . py-r request . txt-f-od ç»ˆç«¯**

**è¾“å‡ºåˆ°æ–‡ä»¶**

**python 3 pfuzz . py-r request . txt-f-o ~/Desktop/**

**python 3 pfuzz . py-r request . txt-f-od ~/tmp/**

**å¸®åŠ©**

**ç”¨æ³•:pfuzz . py[-h][â€“REQUEST REQUEST][â€“PROXY PROXY][â€“log][â€“SSL]
[â€“THREADS THREADS][â€“OUTPUT][â€“delay TIME]
[â€“OUTPUT-details OUTPUT][â€“full-encode][â€“encode]
[â€“fuzz][â€“charfuzz][â€“manipulate][â€“version]
å¯é€‰å‚æ•°:
â€“help/-h æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡ºã€T6â€“PROXY/-p PROXY PROXY[IP:PORT]
â€“version/-v æ˜¾ç¤ºç¨‹åºçš„ç‰ˆæœ¬å·å¹¶é€€å‡º
ã€è¯·æ±‚é€‰é¡¹ã€‘:
â€“Request/-r è¯·æ±‚è¯·æ±‚æ–‡ä»¶
â€“delay/-d æ—¶é—´è®¾ç½®è¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿ[é»˜è®¤å€¼= 0.05]
â€“encode/-e ç¼–ç  uri/body ä¸­çš„ç©ºæ ¼å­—ç¬¦
â€“full-encode/-Fe ç¼–ç  uri/body ä¸­çš„æ‰€æœ‰å­—ç¬¦
ã€è¾“å‡ºé€‰é¡¹ã€‘:
â€“Output/-o è¾“å‡ºé‡è¦ä¿¡æ¯[ç»ˆç«¯/æ–‡ä»¶å¤¹å] ã€T18
ã€æ¨¡å—ã€‘:
â€“fuzz/-f è¿è¡Œæ¨¡ç³ŠåŒ–æ¨¡å—
â€“char fuzz/-cf è¿è¡Œ char æ¨¡ç³ŠåŒ–æ¨¡å—
â€“manipulate/-m è¿è¡Œæ“çºµå¤´æ¨¡å—
ç”¨æ³•:python 3 pfu ZZ . py-r req . txtâ€“log-sâ€“fuzz-d 1â€“encode-o terminalâ€“threads 2
ç”¨æ³•:python 3 pfu ZZ . py-r req . txt-f-lâ€“proxy 127 . 0 . 0 . 1:8080â€“proxy**

**ä¸´æ—¶æ¼”å‘˜**

**å¦‚ä½•å¼€å‘æ–°æ¨¡å—**

*   åº”è¯¥åœ¨ **modules/** æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæŒ‡å®šæ¨¡å—åç§°çš„ python æ–‡ä»¶ã€‚
*   **æ¨¡å—**
*   **â€“charfuzzer . py**
*   **â€“ex parse . py**
*   **â€“fuzzer . py**
*   **â€“header operations . py**
*   **â€“manipulating headers . py**

æ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼äº **myreq = HTTPReq.getobj()** çš„è§£æå¯¹è±¡

**ä» reqparser å¯¼å…¥ http req
myreq = http req . get obj()**

å®ƒæœ‰è®¸å¤šä» **HTTPReq** ç±»æ´¾ç”Ÿçš„å±æ€§ã€‚æ‚¨å¯ä»¥åœ¨ **reqparser.py.** ä¸­æŸ¥çœ‹

**â€¦
myreq . uri
myreq . body
myreq . http
myreq . referer
myreq . origin
myreq . host
myreq . cookie
â€¦**

å¦‚æœæ‚¨æƒ³ä» excel ä¸­è·å–æœ‰æ•ˆè´Ÿè½½ï¼Œå¯ä»¥ä½¿ç”¨æ¥è‡ª modules.exparse çš„ **getpayloads** æ–¹æ³•ã€‚

*   getpayloads(fuzzsheetNameï¼ŒgenericcolmnNameï¼Œfuzzingpayloads)

**ä» modules.exparse å¯¼å…¥ get payloads
get payloads(fuzzsheetNameï¼ŒgenericcolmnNameï¼Œfuzzingpayloads)**

æˆ‘ä»¬åœ¨ **static/** æ–‡ä»¶å¤¹ä¸‹çš„ statics.py ä¸­è®¾ç½® statics-objectsï¼Œæ¯”å¦‚ fuzzsheetNameã€‚

**# static/statics . py ä¸­çš„ Fuzzing æ¨¡å—
fuzz sheet name = ' Fuzzing '
genericcolmnName = ' Payload '
Fuzzing payloads =[]**

ç°åœ¨ï¼Œæ‚¨å¯ä»¥éšæ„æ›´æ”¹/æ·»åŠ /åˆ é™¤å±æ€§ã€‚

**myreq . uri = tmpuri+payload
myreq . add header(headerï¼Œ" 127 . 0 . 0 . 1 ")
myreq . content _ type = " text/html "**

è¦åœæ­¢å¤šçº¿ç¨‹ï¼Œæ‚¨åº”è¯¥åœ¨æœ‰æ•ˆè½½è·çš„æœ«å°¾æ·»åŠ  **#exitme#** æœ‰æ•ˆè½½è·ï¼Œå¹¶è®¾ç½® **statics.exitCall = True** æ¥æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚

**from modules . ex parse import get payloads
for payloads in fuzzing payloads:
if payload = = ' # exit me # ':
statics . exit call = True
else:
ã€æ“ä½œã€‘**

å½“æ‚¨çš„å¯¹è±¡(è¯·æ±‚)å‡†å¤‡å¥½è¢«å‘é€æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ **sendit()** å‡½æ•°å¯¹å…¶è¿›è¡Œæ’é˜Ÿã€‚

**ä» reqsender å¯¼å…¥ sendit
sendit(myreq)**

å¦‚æœæ‚¨éœ€è¦æ›´æ”¹ pFuzz ä¸­çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å¯åŠ¨ä¸€ä¸ª pull è¯·æ±‚æˆ–æ‰“å¼€ä¸€ä¸ªé—®é¢˜ã€‚

#### å¼€å‘æ–°æ¨¡å—çš„ä¸€äº›é‡è¦åŠŸèƒ½

| ç›®æ ‡ | æ¨¡å—/ç±»åˆ« | åŠŸèƒ½ | å‚æ•° |
| --- | --- | --- | --- |
| å‘é€è¯·æ±‚ | reqsender.py | sendit() | ç›®æ ‡ |
| è¦ä½¿ç”¨è¯·æ±‚å¯¹è±¡ | reqparser.py/HTTPReq | getobj() | â€“ |
| æ·»åŠ è‡ªå®šä¹‰é¡µçœ‰ | reqparser.py/HTTPReq | OBJECT.addheader() | newHeadername,value |
| åˆ é™¤æ ‡é¢˜ | reqparser.py/HTTPReq | OBJECT.delheader() | headerName |
| è¦æ›´æ”¹é¡µçœ‰ | reqparser.py/HTTPReq | OBJECT.changeheader() | headerName,newHeaderName |
| ä»æ–‡ä»¶ä¸­è·å–æœ‰æ•ˆè½½è· | exparse.py | getpayloads() | sheetName,columnName |
| å†™æ—¥å¿—ä¿¡æ¯/è°ƒè¯•/è­¦å‘Š | waflogger.py | loginfo/logdebug/logwarn() | æ—¥å¿—æ¶ˆæ¯ |

[**Download**](https://github.com/RedSection/pFuzz)