# ä¸­å°ä¼ä¸šè‡ªåŠ¨æ¥åŠ›:ä¸­å°ä¼ä¸š/NTLM æ¥åŠ›æŠ€æœ¯çš„è‡ªåŠ¨åŒ–ï¼Œç”¨äº Pentesting å’Œ Red å›¢é˜Ÿç»ƒä¹ 

> åŸæ–‡ï¼š<https://kalilinuxtutorials.com/smb-autorelay/>

[![SMB AutoRelay : Automation Of SMB/NTLM Relay Technique For Pentesting & Red Teaming Exercises](img//790934d2d39409ddad62b263a252cc20.png "SMB AutoRelay : Automation Of SMB/NTLM Relay Technique For Pentesting & Red Teaming Exercises")](https://1.bp.blogspot.com/-VqG1XmhOMCg/X3yLGqGXXqI/AAAAAAAAHvU/BTqHMMB1BuE5CoLGXrTY2aTO6yioUPtEgCLcBGAsYHQ/s728/SMB%2BAutoRelay%25281%2529.png)

**SMB AutoRelay** ä¸º active directory ç¯å¢ƒä¸­çš„ pentesting å’Œ red teaming ç»ƒä¹ æä¾› SMB/NTLM ä¸­ç»§æŠ€æœ¯çš„è‡ªåŠ¨åŒ–ã€‚

**ç”¨é€”**

**è¯­æ³•:`./smbAutoRelay.sh -i <interface> -t <file> [-q] [-d]`ã€‚**

**ä¸¾ä¾‹:`./smbAutoRelay.sh -i eth0 -t ./targets.txt`ã€‚**

> è¯·æ³¨æ„ï¼Œç›®æ ‡æ–‡ä»¶åº”è¯¥åªåŒ…å«æ‚¨æƒ³è¦å°è¯• SMB/NTLM ä¸­ç»§æŠ€æœ¯çš„æ¯ä¸ªç›®æ ‡çš„ IP åœ°å€ï¼Œæ¯è¡Œä¸€ä¸ªã€‚

**è¿è¡Œ`./smbAutoRelay.sh [-h]`æŸ¥çœ‹å…¶ä»–é€‰é¡¹ã€‚**

*   **å®‰è£…åœ¨å½“å‰ç›®å½•ä¸­çš„è½¯ä»¶ã€éœ€è¦æ­£å¸¸è¿è¡Œã€‘**
    *   [åº”ç­”è€…](https://github.com/lgandx/Responder)
    *   [æ’å‡»](https://github.com/SecureAuthCorp/impacket)
*   **é€šè¿‡`apt`å®‰è£…çš„è½¯ä»¶ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…*éœ€è¦æ­£å¸¸è¿è¡Œ***
    *   tmux
    *   rlwrap
    *   å¤§èŸ’
    *   python3
    *   ç½‘çŒ«
    *   wget
    *   xterm
    *   ç½‘ç»œå·¥å…·

**TODOs**

*   å¢åŠ æ•è·å’Œç ´è§£ NetNTLM å“ˆå¸Œçš„å¯èƒ½æ€§ã€‚
*   æ·»åŠ å®ƒä»¥ä½¿ç”¨ç»ˆç«¯é…ç½®æ–‡ä»¶

**å…è´£å£°æ˜**

æˆ‘å¯¹è¿™ä¸ªå·¥å…·çš„è¯¯ç”¨ä¸è´Ÿä»»ä½•è´£ä»»ã€‚ä½ è¦è‡ªæ‹…é£é™©ã€‚åœ¨è¿è¡Œå®ƒä¹‹å‰ï¼Œç¡®ä¿ä½ åœ¨ä¸€ä¸ªå—æ§çš„ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”åœ¨é‚£é‡Œä½ è¢«å…è®¸è¿›è¡Œè¿™ç§ç»ƒä¹ ã€‚è¯·å–„è‰¯ğŸ™‚

[**Download**](https://github.com/chesire-cat/smbAutoRelay)