# Metarget:æä¾›æ˜“å—æ”»å‡»çš„åŸºç¡€è®¾æ–½çš„è‡ªåŠ¨æ„é€ çš„æ¡†æ¶

> åŸæ–‡ï¼š<https://kalilinuxtutorials.com/metarget/>

[![Metarget : Framework Providing Automatic Constructions Of Vulnerable Infrastructures](img//e3318f914f87ca814fe1911b538fee97.png "Metarget : Framework Providing Automatic Constructions Of Vulnerable Infrastructures")](https://1.bp.blogspot.com/-rdP-eVYu1pA/YMWp1JQUhqI/AAAAAAAAJf0/9mawgHtZtEAvB_Bk3jAM8r9imcKqErW3gCLcBGAsYHQ/s728/1-svg.png)

meta target =**`meta-`**+`**target**`ï¼Œä¸€ä¸ªæä¾›æ¼æ´åŸºç¡€è®¾æ–½è‡ªåŠ¨æ„å»ºçš„æ¡†æ¶ï¼Œç”¨äºå¿«é€Ÿè‡ªåŠ¨éƒ¨ç½²ç®€å•æˆ–å¤æ‚çš„æ¼æ´äº‘åŸç”Ÿç›®æ ‡ã€‚

ä¸ºä»€ä¹ˆé€‰æ‹© Metargetï¼Ÿ

åœ¨å®‰å…¨ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°éƒ¨ç½²æ˜“å—æ”»å‡»çš„ç¯å¢ƒå¾€å¾€éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œè€Œæµ‹è¯• PoC æˆ– ExP æ‰€èŠ±è´¹çš„æ—¶é—´ç›¸å¯¹è¾ƒçŸ­ã€‚åœ¨äº‘åŸç”Ÿå®‰å…¨é¢†åŸŸï¼Œç”±äºäº‘åŸç”Ÿç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œè¿™ä¸ªé—®é¢˜æ›´åŠ å¯æ€•ã€‚

å¼€æºç¤¾åŒºä¸­å·²ç»æœ‰ä¸€äº›ä¼˜ç§€çš„å®‰å…¨é¡¹ç›®ï¼Œå¦‚ [Vulhub](https://github.com/vulhub/vulhub) ã€ [VulApps](https://github.com/Medicean/VulApps) ï¼Œå®ƒä»¬å°†æ˜“å—æ”»å‡»çš„åœºæ™¯æ‰“åŒ…æˆå®¹å™¨æ˜ åƒï¼Œä»¥ä¾¿ç ”ç©¶äººå‘˜åˆ©ç”¨å®ƒä»¬å¹¶å¿«é€Ÿéƒ¨ç½²åœºæ™¯ã€‚

ç„¶è€Œï¼Œè¿™äº›é¡¹ç›®ä¸»è¦å…³æ³¨åº”ç”¨ç¨‹åºä¸­çš„æ¼æ´ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ç ”ç©¶ Dockerã€Kubernetes ç”šè‡³ Linux å†…æ ¸è¿™æ ·çš„åŸºç¡€è®¾æ–½ä¸­çš„æ¼æ´æ€ä¹ˆåŠï¼Ÿ

å› æ­¤ï¼Œæˆ‘ä»¬å¼€å‘äº† Metargetï¼Œå¸Œæœ›åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³ä¸Šè¿°éƒ¨ç½²é—®é¢˜ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æœŸæœ› Metarget èƒ½å¤Ÿå¸®åŠ©è‡ªåŠ¨æ„å»º**å¤šå±‚**è„†å¼±äº‘åŸç”Ÿåœºæ™¯ã€‚

**å®‰è£…æ¼æ´**

åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ç±»ä¼¼äº*å®‰è£…æ¼æ´*å’Œ*å®‰è£…æ˜“å—æ”»å‡»åœºæ™¯*çš„æ¦‚å¿µã€‚ä¸ºä»€ä¹ˆä¸åƒå®‰è£…è½¯ä»¶ä¸€æ ·å®‰è£…æ¼æ´ï¼Ÿæˆ‘ä»¬å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å®‰å…¨ç ”ç©¶å’Œè¿›æ”»æ€§å®‰å…¨ã€‚

ç¡®åˆ‡åœ°è¯´ï¼Œæˆ‘ä»¬æœŸæœ›:

*   å°† CVE-2019-5736 çš„ Docker å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šã€‚
*   `**metarget cnv install cve-2018-1002105**`å°† CVE-2018-1002105 çš„ Kubernetes å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šã€‚
*   å°†åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å¸¦æœ‰ CVE 2020-2023/2025/2026 çš„ Kata-containersã€‚
*   `**metarget cnv install cve-2016-5195**`å°†åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¸€ä¸ªå¸¦æœ‰ DirtyCoW çš„å†…æ ¸ã€‚

å¾ˆé…·ï¼Œå¯¹å§ï¼Ÿæ²¡æœ‰æ›´å¤šçš„æ­¥éª¤ã€‚æ²¡æœ‰ RTFMã€‚æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œäº«å—ä½ çš„å’–å•¡ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬æœŸæœ›:

*   åœ¨ Metarget çš„å¸®åŠ©ä¸‹ï¼Œé“å¾·é»‘å®¢èƒ½å¤Ÿå¿«é€Ÿéƒ¨ç½²ç®€å•æˆ–å¤æ‚çš„äº‘åŸç”Ÿç›®æ ‡ï¼Œå¹¶é€šè¿‡å…¥ä¾µäº‘åŸç”Ÿç¯å¢ƒæ¥å­¦ä¹ ã€‚
*   **`metarget appv install dvwa`** å°†åœ¨æˆ‘ä»¬è„†å¼±çš„åŸºç¡€è®¾æ–½ä¸Šå®‰è£… [DVWA](https://github.com/digininja/DVWA) ç›®æ ‡ã€‚
*   `**metarget appv install thinkphp-5-0-23-rce --external**`å°†åˆ©ç”¨`**NodePort**`æœåŠ¡åœ¨æˆ‘ä»¬æ˜“å—æ”»å‡»çš„åŸºç¡€è®¾æ–½ä¸Šå®‰è£… ThinkPHP RCE æ¼æ´ã€‚

å®‰è£…æ–°çš„ Ubuntu åï¼Œåªéœ€è¿è¡Œä»¥ä¸‹ 5 ä¸ªå‘½ä»¤ï¼Œå³å¯è·å¾—å¤šå±‚è„†å¼±åœºæ™¯:

**ã€‚/meta target CNV å®‰è£… cve-2016-5195 #å®¹å™¨è½¬ä¹‰ç”¨ dirtyCoW
ã€‚/meta target CNV ç”¨ docker
å®‰è£… cve-2019-5736 #é›†è£…ç®±é€ƒé€¸ã€‚/metarget cnv ç”¨ cve-2018-1002105
å®‰è£… cve-2018-1002105 # kubernetes å•èŠ‚ç‚¹é›†ç¾¤ã€‚/meta target CNV install privileged-container #éƒ¨ç½²ä¸€ä¸ªç‰¹æƒå®¹å™¨
ã€‚/meta target appv install dvwaâ€“external # deploy dvwa target**

RCEï¼Œé›†è£…ç®±é€ƒè„±ï¼Œæ¨ªå‘ç§»åŠ¨ï¼ŒåšæŒï¼Œä»–ä»¬ç°åœ¨æ˜¯ä½ çš„äº†ã€‚

æ›´å¤šç‰›é€¼çš„åŠŸèƒ½æ¥äº†ï¼æ•¬è¯·æœŸå¾…ğŸ™‚

æ³¨æ„:

è’‚è€¶é¡¹ç›®æ—¨åœ¨ä¸ºå®‰å…¨ç ”ç©¶æä¾›æ˜“å—æ”»å‡»çš„åœºæ™¯ã€‚ç”Ÿæˆåœºæ™¯çš„å®‰å…¨æ€§å¾—ä¸åˆ°ä¿è¯ã€‚ä¸å»ºè®®**åœ¨äº’è”ç½‘ä¸Šä½¿ç”¨ Metarget éƒ¨ç½²ç»„ä»¶æˆ–åœºæ™¯ã€‚**

**ç”¨é€”**

**åŸºæœ¬ç”¨æ³•**

**ç”¨æ³•:metarget [-h] [-v]å­å‘½ä»¤â€¦
è‡ªåŠ¨æ„é€ æ˜“å—æ”»å‡»çš„åŸºç¡€è®¾æ–½
ä½ç½®å‚æ•°:
å­å‘½ä»¤æè¿°
gadget cloud native gadgets(docker/k8s/â€¦)ç®¡ç†
cnv cloud native æ¼æ´ç®¡ç†
appv åº”ç”¨ç¨‹åºæ¼æ´ç®¡ç†
å¯é€‰å‚æ•°:
-hï¼Œâ€“help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º
-vï¼Œâ€“version æ˜¾ç¤ºç¨‹åºçš„ç‰ˆæœ¬å·å¹¶é€€å‡º**

è¿è¡Œ **`./metarget`** `**gadget list**`æŸ¥çœ‹å½“å‰æ”¯æŒçš„äº‘åŸç”Ÿç»„ä»¶ã€‚

**ç®¡ç†äº‘åŸç”Ÿç»„ä»¶**

**ç”¨æ³•:metarget gadget [-h]å­å‘½ä»¤â€¦
ä½ç½®å‚æ•°:
å­å‘½ä»¤æè¿°
list åˆ—å‡ºæ”¯æŒçš„å°å·¥å…·
å®‰è£…å®‰è£…å°å·¥å…·
åˆ é™¤å¸è½½å°å·¥å…·
å¯é€‰å‚æ•°:
-hï¼Œâ€“help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º**

**æ¡ˆä¾‹:å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Docker**

è¿è¡Œ:

**ã€‚/meta target å°å·¥å…·å®‰è£… dockerâ€“ç‰ˆæœ¬ 18.03.1**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… 18.03.1 Dockerã€‚

**æ¡ˆä¾‹:å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Kubernetesã€‘**

è¿è¡Œ:

**ã€‚/metarget å°å·¥å…·å®‰è£… k8sâ€“ç‰ˆæœ¬ 1.16.5**

å¦‚æœä¸Šé¢çš„å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†ä¼šå®‰è£… 1.16.5 Kubernetes å•èŠ‚ç‚¹é›†ç¾¤ã€‚

**æ³¨æ„**:é€šå¸¸åœ¨ Kubernetes ä¸­éœ€è¦é…ç½®å¾ˆå¤šé€‰é¡¹ã€‚ä½œä¸ºä¸€ä¸ªå®‰å…¨ç ”ç©¶é¡¹ç›®ï¼ŒMetarget æä¾›äº†ä¸€äº›å®‰è£… Kubernetes çš„é€‰é¡¹:

**-v ç‰ˆæœ¬ï¼Œâ€“VERSION ç‰ˆæœ¬
å°å·¥å…·ç‰ˆæœ¬
â€“CNI-PLUGIN CNI _ PLUGIN
CNI æ’ä»¶ï¼Œé»˜è®¤æ³•å…°ç»’
â€“POD-NETWORK-cidr POD _ NETWORK _ CIDR
POD NETWORK CIDRï¼Œé»˜è®¤ CIDR ä¸ºæ¯ä¸ªæ’ä»¶é€šè¿‡
é»˜è®¤
â€“taint-master tain ä¸»èŠ‚ç‚¹ä¸å¦**

**meta target æ”¯æŒå¤šèŠ‚ç‚¹é›†ç¾¤éƒ¨ç½²ã€‚å¦‚æœè¦åœ¨é›†ç¾¤ä¸­æ·»åŠ æ›´å¤šçš„èŠ‚ç‚¹ï¼Œå¯ä»¥åœ¨å•èŠ‚ç‚¹é›†ç¾¤å®‰è£…æˆåŠŸåï¼Œå¤åˆ¶** `**tools/install_k8s_worker.sh**` **è„šæœ¬ï¼Œåœ¨æ¯ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸Šè¿è¡Œã€‚**

**æ¡ˆä¾‹:å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Kata-containers**

è¿è¡Œ:

**ã€‚/metarget å°å·¥å…·å®‰è£…å¡å¡”-ç‰ˆæœ¬ 1.10.0**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… 1.10.0 Kata-containersã€‚

æ³¨æ„:

è¿˜å¯ä»¥ç”¨ **`--kata-runtime-type`** é€‰é¡¹æŒ‡å®š kata è¿è¡Œæ—¶çš„ç±»å‹(qemu/clh/fc/â€¦)ï¼Œé»˜è®¤ä¸º`**qemu**`ã€‚

**æ¡ˆä¾‹:å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Linux å†…æ ¸**

è¿è¡Œ:

**ã€‚/metarget gadget å®‰è£…å†…æ ¸â€“ç‰ˆæœ¬ 5.7.5**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… 5.7.5 å†…æ ¸ã€‚

æ³¨æ„:

ç›®å‰ï¼ŒMetarget ä»¥ä¸¤ç§æ–¹å¼å®‰è£…å†…æ ¸:

*   æ°å½“çš„
*   å¦‚æœ apt åŒ…ä¸å¯ç”¨ï¼Œè¯·ä¸‹è½½*ã€‚ä» Ubuntu è¿œç¨‹ deb å¹¶å°è¯•å®‰è£…

æˆåŠŸå®‰è£…å†…æ ¸åï¼Œéœ€è¦é‡æ–°å¯åŠ¨ç³»ç»Ÿã€‚Metarget ä¼šæç¤ºè‡ªåŠ¨é‡å¯ã€‚

**ç®¡ç†ä¸äº‘åŸç”Ÿç»„ä»¶ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯**

**ç”¨æ³•:metarget cnv [-h]å­å‘½ä»¤â€¦
ä½ç½®å‚æ•°:
å­å‘½ä»¤æè¿°
åˆ—è¡¨åˆ—å‡ºæ”¯æŒçš„äº‘åŸç”Ÿæ¼æ´
å®‰è£…å®‰è£…äº‘åŸç”Ÿæ¼æ´
åˆ é™¤å¸è½½äº‘åŸç”Ÿæ¼æ´
å¯é€‰å‚æ•°:
-hï¼Œâ€“help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º**

è¿è¡Œ`**./metarget cnv list**`æŸ¥çœ‹å½“å‰æ”¯æŒçš„äº‘åŸç”Ÿç»„ä»¶ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯ã€‚

**æ¡ˆä»¶:CVE-2019-5736**

è¿è¡Œ:

**ã€‚/meta target CNV å®‰è£… cve-2019-5736**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… CVE-2019-5736 çš„ Dockerã€‚

**æ¡ˆä»¶:CVE-2018-1002105**

è¿è¡Œ:

**ã€‚/meta target CNV å®‰è£… cve-2018-1002105**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… CVE-2018-1002105 çš„ Kubernetesã€‚

**æ¡ˆä¾‹:å¡å¡”é›†è£…ç®±é€ƒé€¸**

è¿è¡Œ:

**ã€‚/metarget cnv å®‰è£… kata-escape-2020**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… CVE 2020-2023/2025/2026 çš„ Kata é›†è£…ç®±ã€‚

**æ¡ˆä»¶:CVE-2016-5195**

è¿è¡Œ:

**ã€‚/meta target CNV å®‰è£… cve-2016-5195**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œå°†å®‰è£… CVE-2016-5195 å†…æ ¸ã€‚

**ç®¡ç†ä¸äº‘åŸç”Ÿåº”ç”¨ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯**

**ç”¨æ³•:metarget appv [-h]å­å‘½ä»¤â€¦
ä½ç½®å‚æ•°:
å­å‘½ä»¤æè¿°
åˆ—è¡¨åˆ—å‡ºæ”¯æŒçš„åº”ç”¨ç¨‹åºæ¼æ´
å®‰è£…å®‰è£…åº”ç”¨ç¨‹åºæ¼æ´
åˆ é™¤å¸è½½åº”ç”¨ç¨‹åºæ¼æ´
å¯é€‰å‚æ•°:
-hï¼Œâ€“help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º**

è¿è¡Œ **`./metarget appv list`** æŸ¥çœ‹å½“å‰æ”¯æŒçš„äº‘åŸç”Ÿåº”ç”¨ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯ã€‚

**æ³¨æ„**:åœ¨éƒ¨ç½²åº”ç”¨æ˜“å—æ”»å‡»çš„åœºæ™¯ä¹‹å‰ï¼Œè¦å…ˆå®‰è£… Docker å’Œ Kubernetesã€‚æ‚¨å¯ä»¥ä½¿ç”¨ Metarget æ¥å®‰è£… Docker å’Œ Kubernetesã€‚

**æ¡ˆä¾‹:DVWA**

è¿è¡Œ:

**ã€‚/metarget appv å®‰è£… dvwa**

å¦‚æœä¸Šè¿°å‘½ä»¤æˆåŠŸå®Œæˆï¼Œ [DVWA](https://github.com/digininja/DVWA) å°†è¢«éƒ¨ç½²ä¸ºå½“å‰ Kubernetes ä¸­çš„*éƒ¨ç½²*å’Œ*æœåŠ¡*èµ„æºã€‚

æ³¨æ„:

æ‚¨å¯ä»¥æŒ‡å®š **`--external`** é€‰é¡¹ï¼Œé‚£ä¹ˆæœåŠ¡å°†è¢«å…¬å¼€ä¸º **`NodePort`ã€**ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥é€šè¿‡ä¸»æœºèŠ‚ç‚¹çš„ IP è®¿é—®å®ƒã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç±»å‹ä¸º **`ClusterIP`ã€‚**

**ç®¡ç†æ˜“å—æ”»å‡»çš„äº‘æœ¬æœºç›®æ ‡é›†ç¾¤**

æ­£åœ¨å¼€å‘ï¼Œç›®å‰ä¸æ”¯æŒã€‚

**å®‰è£…**

**è¦æ±‚**

*   Ubuntu 16.04 æˆ– 18.04
*   Python >= 3.5
*   pip3

**æ¥æºäº**

å…‹éš†å­˜å‚¨åº“å’Œå®‰è£…è¦æ±‚:

**git å…‹éš† https://github.com/brant-ruan/metarget.git
CD metarget/
pip install-r requirements . txt**

å¼€å§‹ä½¿ç”¨ Metargetï¼Œæ„é€ æ˜“å—æ”»å‡»çš„åœºæ™¯ã€‚ä¾‹å¦‚:

**ã€‚/meta target CNV å®‰è£… cve-2019-5736**

**æ¥è‡ª PyPI**

ç›®å‰ä¸æ”¯æŒã€‚

**åœºæ™¯åˆ—è¡¨**

**ä¸äº‘åŸç”Ÿç»„ä»¶ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯**

å¦‚æœä¸€ä¸ªæ˜“å—æ”»å‡»åœºæ™¯çš„åç§°åé¢æœ‰ä¸€ä¸ªæ˜Ÿå·(*)ï¼Œæ‚¨éœ€è¦é˜…è¯»æ•´ä¸ªè¡¨æ ¼ä¸‹é¢ä¸ä¹‹ç›¸å…³çš„æ³¨é‡Šä»¥äº†è§£æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

| åå­— | ç­çº§ | ç±»å‹ | CVSS 3.x | çŠ¶æ€ |
| --- | --- | --- | --- | --- |
| [cve-2018-15664](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/docker/cve-2018-15664.yaml) | ç å¤´å·¥äºº | å®¹å™¨ _ è½¬ä¹‰ | [7.5](https://nvd.nist.gov/vuln/detail/CVE-2018-15664) | 981 å·æˆ¿ |
| [cve-2019-13139](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/docker/cve-2019-13139.yaml) | ç å¤´å·¥äºº | å‘½ä»¤ _ æ‰§è¡Œ | [8.4](https://nvd.nist.gov/vuln/detail/CVE-2019-13139) | 981 å·æˆ¿ |
| [cve-2019-14271](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/docker/cve-2019-14271.yaml) | ç å¤´å·¥äºº | å®¹å™¨ _ è½¬ä¹‰ | [9.8](https://nvd.nist.gov/vuln/detail/CVE-2019-14271) | 981 å·æˆ¿ |
| [cve-2020-15257](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/docker/cve-2020-15257.yaml) | åç«™/å®¹å™¨ d | å®¹å™¨ _ è½¬ä¹‰ | [5.2](https://nvd.nist.gov/vuln/detail/CVE-2020-15257) | 981 å·æˆ¿ |
| [cve-2019-5736](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/docker/cve-2019-5736.yaml) | åç«™/runc | å®¹å™¨ _ è½¬ä¹‰ | [8.6](https://nvd.nist.gov/vuln/detail/CVE-2019-5736) | 981 å·æˆ¿ |
| [cve-2021-30465*](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/docker/cve-2021-30465.yaml) | åç«™/runc | å®¹å™¨ _ è½¬ä¹‰ | [7.6](https://nvd.nist.gov/vuln/detail/CVE-2021-30465) | 981 å·æˆ¿ |
| [cve-2017-1002101](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2017-1002101.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | å®¹å™¨ _ è½¬ä¹‰ | [9.6](https://nvd.nist.gov/vuln/detail/CVE-2017-1002101) | 981 å·æˆ¿ |
| [cve-2018-1002105](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2018-1002105.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | ç‰¹æƒ _ å‡çº§ | [9.8](https://nvd.nist.gov/vuln/detail/CVE-2018-1002105) | 981 å·æˆ¿ |
| [cve-2019-11253](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2019-11253.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æ‹’ç»æœåŠ¡ | [7.5](https://nvd.nist.gov/vuln/detail/CVE-2019-11253) | 981 å·æˆ¿ |
| [cve-2019-9512](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2019-9512.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æ‹’ç»æœåŠ¡ | [7.5](https://nvd.nist.gov/vuln/detail/CVE-2019-9512) | 981 å·æˆ¿ |
| [cve-2019-9514](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2019-9514.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æ‹’ç»æœåŠ¡ | [7.5](https://nvd.nist.gov/vuln/detail/CVE-2019-9514) | 981 å·æˆ¿ |
| [cve-2019-9946](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2019-9946.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æµé‡ _ æ‹¦æˆª | [7.5](https://nvd.nist.gov/vuln/detail/CVE-2019-9946) | 981 å·æˆ¿ |
| [cve-2020-8554](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2020-8554.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | äººåœ¨ä¸­é—´ | [5.0](https://nvd.nist.gov/vuln/detail/CVE-2020-8554) | 981 å·æˆ¿ |
| [cve-2020-8555](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2020-8555.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€  | [6.3](https://nvd.nist.gov/vuln/detail/CVE-2020-8555) | 981 å·æˆ¿ |
| [cve-2020-8557](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2020-8557.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æ‹’ç»æœåŠ¡ | [5.5](https://nvd.nist.gov/vuln/detail/CVE-2020-8557) | 981 å·æˆ¿ |
| [cve-2020-8558](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2020-8558.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | æœåŠ¡æš´éœ² | [8.8](https://nvd.nist.gov/vuln/detail/CVE-2020-8558) | 981 å·æˆ¿ |
| [cve-2020-8559](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kubernetes/cve-2020-8559.yaml) | åº“ä¼¯å†…ç‰¹æ–¯ | ç‰¹æƒ _ å‡çº§ | [6.8](https://nvd.nist.gov/vuln/detail/CVE-2020-8559) | 981 å·æˆ¿ |
| [cve-2016-5195](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2016-5195.yaml) | æ ¸å¿ƒ | å®¹å™¨ _ è½¬ä¹‰ | [7.8](https://nvd.nist.gov/vuln/detail/CVE-2016-5195) | 981 å·æˆ¿ |
| [cve-2016-8655](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2016-8655.yaml) | æ ¸å¿ƒ | ç‰¹æƒ _ å‡çº§ | [7.8](https://nvd.nist.gov/vuln/detail/CVE-2016-8655) | 981 å·æˆ¿ |
| [cve-2017-6074](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2017-6074.yaml) | æ ¸å¿ƒ | ç‰¹æƒ _ å‡çº§ | [7.8](https://nvd.nist.gov/vuln/detail/CVE-2017-6074) | 981 å·æˆ¿ |
| [cve-2017-7308](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2017-7308.yaml) | æ ¸å¿ƒ | ç‰¹æƒ _ å‡çº§ | [7.8](https://nvd.nist.gov/vuln/detail/CVE-2017-7308) | 981 å·æˆ¿ |
| [cve-2017-16995](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2017-16995.yaml) | æ ¸å¿ƒ | ç‰¹æƒ _ å‡çº§ | [7.8](https://nvd.nist.gov/vuln/detail/CVE-2017-16995) | 981 å·æˆ¿ |
| [cve-2017-1000112](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2017-1000112.yaml) | æ ¸å¿ƒ | ç‰¹æƒ _ å‡çº§ | [7.0](https://nvd.nist.gov/vuln/detail/CVE-2017-1000112) | 981 å·æˆ¿ |
| [cve-2018-18955](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2018-18955.yaml) | æ ¸å¿ƒ | ç‰¹æƒ _ å‡çº§ | [7.0](https://nvd.nist.gov/vuln/detail/CVE-2018-18955) | 981 å·æˆ¿ |
| [cve-2020-14386](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kernel/cve-2020-14386.yaml) | æ ¸å¿ƒ | å®¹å™¨ _ è½¬ä¹‰ | [7.8](https://nvd.nist.gov/vuln/detail/CVE-2020-14386) | 981 å·æˆ¿ |
| [å½¢-é€¸-2020](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/kata-containers/kata-escape-2020.yaml) | å½¢å®¹å™¨ | å®¹å™¨ _ è½¬ä¹‰ | [6.3](https://nvd.nist.gov/vuln/detail/CVE-2020-2023)/[8.8](https://nvd.nist.gov/vuln/detail/CVE-2020-2025)/[8.8](https://nvd.nist.gov/vuln/detail/CVE-2020-2026) | 981 å·æˆ¿ |
| [cap _ DAC _ read _ search-container](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/configs/cap_dac_read_search-container.yaml) | é…ç½® | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |
| [cap_sys_admin-container](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/configs/cap_sys_admin-container.yaml) | é…ç½® | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |
| [cap_sys_ptrace-container](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/configs/cap_sys_ptrace-container.yaml) | é…ç½® | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |
| [ç‰¹æƒå®¹å™¨](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/configs/privileged-container.yaml) | é…ç½® | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |
| [å®‰è£…-å¯¹æ¥-è¢œå­](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/mounts/mount-docker-sock.yaml) | å¢åŠ  | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |
| [æŒ‚è½½ä¸»æœºç­‰](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/mounts/mount-host-etc.yaml) | å¢åŠ  | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |
| [æŒ‚è½½ä¸»æœºè¿›ç¨‹](https://github.com/brant-ruan/metarget/blob/master/vulns_cn/mounts/mount-host-procfs.yaml) | å¢åŠ  | å®¹å™¨ _ è½¬ä¹‰ | â€“ | 981 å·æˆ¿ |

**æ³¨:**

*   å¯¹äº **cve-2021-30465** ï¼Œåœ¨`**cnv install cve-2021-30465**`(å®‰è£… Docker)ä¹‹åï¼Œ
    *   ä½ æœ€å¥½æ‰‹åŠ¨å®‰è£…ä¸€ä¸ª K8sï¼Œä»¥ä¾›åˆ©ç”¨(å¦‚`**cnv install cve-2018-1002105**`æˆ–**å¸¦å…ƒç›®æ ‡)ã€‚**

**ä¸äº‘åŸç”Ÿåº”ç”¨ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯**

è¿™äº›åœºæ™¯ä¸»è¦æ¥æºäºå…¶ä»–å¼€æºé¡¹ç›®:

*   [Vulhub](https://github.com/vulhub/vulhub)
*   [DVWA](https://github.com/digininja/DVWA)

æˆ‘ä»¬å¯¹ä»¥ä¸Šé¡¹ç›®è¡¨ç¤ºè¯šæŒšçš„æ„Ÿè°¢ï¼

Metarget å°†ä¸Šè¿°é¡¹ç›®ä¸­çš„åœºæ™¯è½¬æ¢ä¸º Kubernetes ä¸­çš„*éƒ¨ç½²*å’Œ*æœåŠ¡*èµ„æº(æ„Ÿè°¢ [kompose](https://github.com/kubernetes/kompose) )ã€‚

è¦åˆ—å‡ºä¸ Metarget æ”¯æŒçš„äº‘åŸç”Ÿåº”ç”¨ç¨‹åºç›¸å…³çš„æ˜“å—æ”»å‡»çš„åœºæ™¯ï¼Œåªéœ€è¿è¡Œ:

**ã€‚/metarget appv åˆ—è¡¨**

**å¼€å‘è®¡åˆ’**

*   éƒ¨ç½²åŸºæœ¬çš„äº‘åŸç”Ÿç»„ä»¶(dockerã€k8s)
*   ä¸äº‘åŸç”Ÿç»„ä»¶ç›¸å…³çš„æ˜“å—æ”»å‡»åœºæ™¯çš„é›†æˆ
*   å®¹å™¨ä¸­ RCE åœºæ™¯çš„é›†æˆ
*   å¤šèŠ‚ç‚¹äº‘åŸç”Ÿç›®æ ‡é›†ç¾¤çš„è‡ªåŠ¨æ„å»º
*   å…¶ä»–äº‘æœ¬åœ°æ˜“å—æ”»å‡»åœºæ™¯çš„é›†æˆ(é•¿æœŸ)

**ç»´æŠ¤äººå‘˜**

*   [@å¸ƒå…°ç‰¹-é˜®](https://github.com/brant-ruan)
*   [@ListenerMoya](https://github.com/ListenerMoya)

**è´¡çŒ®**

Metarget çš„ç›®æ ‡ä¹‹ä¸€æ˜¯åœ¨æ¼æ´å‡ºç°æ—¶ï¼Œä¿ƒè¿›æ›´å¿«é€Ÿåœ°æ„å»ºæ˜“å—æ”»å‡»çš„ç¯å¢ƒã€‚æ­¤å¤–ï¼Œå®ƒå¯ä»¥ç”¨æ¥æ„å»ºæ‰€æœ‰é›†æˆçš„è„†å¼±åœºæ™¯ï¼Œåªè¦ä½ æƒ³ã€‚

ä¸ºäº†ä½¿ Metarget ä¿æŒæœ€æ–°ï¼Œå°†ç»´æŠ¤æ˜“å—æ”»å‡»çš„åœºæ™¯åˆ—è¡¨(åŒ…æ‹¬`**cnv**`å’Œ`**appv**`)ã€‚

*åœ¨ Metarget ä¸­ç”¨æ¥æè¿°&é›†æˆæ˜“å—æ”»å‡»çš„åœºæ™¯ã€‚ç›®å‰æ”¯æŒä¸¤å±‚åœºæ™¯ï¼Œ **`cnv`** (åœ¨`**vulns_cn/**`)å’Œ`**appv**`(åœ¨ **`vulns_app/` )** ã€‚*

 *æ„Ÿè°¢å¹¶æ¬¢è¿æ¥è‡ªç¤¾åŒºçš„ç»´æŠ¤ã€‚å¸Œæœ›æˆ‘ä»¬èƒ½å¤Ÿåœ¨ Metarget çš„èƒŒæ™¯ä¸‹ï¼Œæ”¶é›†å’Œåˆ†äº«æˆ‘ä»¬çš„çŸ¥è¯†å’Œç ”ç©¶ï¼Œä¿ƒè¿›äº‘åŸç”Ÿå®‰å…¨çš„å‘å±•ã€‚

ç›®å‰ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä¸º Metarget åšè´¡çŒ®:

1.  æäº¤æ–°çš„äº‘åŸç”Ÿæ¼æ´(cnv)çš„ YAML æ–‡ä»¶ã€‚
2.  æäº¤æ–°çš„äº‘æœ¬æœºåº”ç”¨ç¨‹åºæ¼æ´(appv)çš„ YAML æ–‡ä»¶ã€‚

è¯¦è§[æŠ•ç¨¿. md](https://github.com/brant-ruan/metarget/blob/master/CONTRIBUTING.md) ã€‚

**å…³äº Logo**

è¿™ä¸æ˜¯ä¸€ä¸ª Kubernetesï¼Œè€Œæ˜¯ä¸€ä¸ªè„†å¼±çš„åŸºç¡€è®¾æ–½ï¼Œæœ‰ä¸‰ä¸ªé½¿è½®ï¼Œä¸èƒ½å¾ˆå¥½åœ°å·¥ä½œ(è„†å¼±)

[**Download**](https://github.com/brant-ruan/metarget)*